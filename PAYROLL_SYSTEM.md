# ูุธุงู ุงูุฑูุงุชุจ ุงูุชููุงุฆู

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### ๐ค ุญุณุงุจ ุชููุงุฆู ููุฑุงุชุจ ุงูุฃุณุงุณู
- ูุชู ุงุณุชูุฑุงุฏ ุงูุฑุงุชุจ ุงูุฃุณุงุณู ุชููุงุฆูุงู ูู ุฌุฏูู **ุงูุฌูุณูุงุช ูุงูุฑูุงุชุจ** ุญุณุจ ุฌูุณูุฉ ูู ุนุงููุฉ
- ูู ุญุงูุฉ ุนุฏู ูุฌูุฏ ุฑุงุชุจ ูุญุฏุฏ ููุฌูุณูุฉุ ูุชู ุงุณุชุฎุฏุงู ุงูุฑุงุชุจ ุงููุฑุฏู ุงูููุณุฌู ููุนุงููุฉ
- ุนุฑุถ ูุตุฏุฑ ุงูุฑุงุชุจ ูู ุงูุฌุฏูู ูููุถูุญ

### ๐ ุญุณุงุจ ุชููุงุฆู ูุฃูุงู ุงูุนูู
- ูุชู ุญุณุงุจ ุฃูุงู ุงูุนูู ุงููุนููุฉ ูู **ุงูุนููุฏ ุงููุดุทุฉ** ููุนุงููุฉ ุฎูุงู ุงูุดูุฑ ุงููุญุฏุฏ
- ุญุณุงุจ ุฏููู ููุชูุงุทุน ุจูู ูุชุฑุฉ ุงูุนูุฏ ูุงูุดูุฑ ุงููุฎุชุงุฑ
- ุงูุชุนุงูู ูุน ุงูุนููุฏ ูุชุฏุงุฎูุฉ ุงูููุงุนูุฏ ุฃู ุงูููุชูุญุฉ (ุจุฏูู ุชุงุฑูุฎ ุงูุชูุงุก)

### ๐ ุงูุชุญุฏูุซ ุงูุชููุงุฆู
- ุฅุนุงุฏุฉ ุญุณุงุจ ุงูุจูุงูุงุช ุชููุงุฆูุงู ุนูุฏ ุชุบููุฑ ุงูุดูุฑ
- ุชุญุฏูุซ ุงูุฑุงุชุจ ุงูุฅุฌูุงูู ููุฑูุงู ุนูุฏ ุชุนุฏูู ุฃู ูููุฉ
- ูุคุดุฑุงุช ุจุตุฑูุฉ ูุชูุถูุญ ุงูุจูุงูุงุช ุงููุญุณูุจุฉ ุชููุงุฆูุงู

## ููููุฉ ุนูู ุงููุธุงู

### 1. ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
```typescript
// ุฌูุจ ุงูุนูุงู ูุน ูุนูููุงุช ุฑูุงุชุจ ุงูุฌูุณูุงุช
const workers = await prisma.worker.findMany({
  include: {
    nationalitySalary: true
  }
});

// ุชุญุฏูุฏ ุงูุฑุงุชุจ ุงูุฃุณุงุณู
const baseSalary = worker.nationalitySalary?.salary || worker.salary || 0;
```

### 2. ุญุณุงุจ ุฃูุงู ุงูุนูู ูู ุงูุนููุฏ
```typescript
// ุงูุจุญุซ ุนู ุงูุนููุฏ ุงููุดุทุฉ ููุนุงููุฉ ูู ุงูุดูุฑ ุงููุญุฏุฏ
const contracts = await fetch(`/api/contracts?workerId=${workerId}&month=${selectedMonth}`);

// ุญุณุงุจ ุงูุชูุงุทุน ุจูู ูุชุฑุฉ ุงูุนูุฏ ูุงูุดูุฑ
const overlapStart = new Date(Math.max(contractStart.getTime(), monthStart.getTime()));
const overlapEnd = new Date(Math.min(contractEnd.getTime(), monthEnd.getTime()));
```

### 3. ุญุณุงุจ ุงูุฑุงุชุจ ุงูููุงุฆู
```typescript
// ุญุณุงุจ ุงูุฑุงุชุจ ุงููููู
const dailySalary = baseSalary / 30;

// ุญุณุงุจ ุงูุฑุงุชุจ ุงูุฅุฌูุงูู
const totalSalary = (dailySalary * workingDays) + bonuses - deductions;
```

## ุงููููุงุช ุงููุนุฏูุฉ

### 1. `/src/app/payroll/page.tsx`
- ุชุทููุฑ ุฏุงูุฉ `calculateWorkingDaysForWorker()` ูุญุณุงุจ ุฃูุงู ุงูุนูู ูู ุงูุนููุฏ
- ุชุญุฏูุซ `calculatePayroll()` ูุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงูุชููุงุฆูุฉ
- ุชุญุณูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุน ูุคุดุฑุงุช ุจุตุฑูุฉ

### 2. `/src/app/api/workers/route.ts`
- ุชุถููู ูุนูููุงุช `nationalitySalary` ูู ุงุณุชุฌุงุจุฉ API

### 3. `/src/app/api/contracts/route.ts`
- ุฅุถุงูุฉ ุฏุงูุฉ `GET` ููุจุญุซ ูู ุงูุนููุฏ ุญุณุจ ุงูุนุงูู ูุงูุดูุฑ
- ุฏุนู ุงุณุชุนูุงูุงุช ูุนูุฏุฉ ูุญุณุงุจ ุงูุชูุงุทุนุงุช ุงูุฒูููุฉ

## ุงููุฒุงูุง

โ **ุฏูุฉ ุนุงููุฉ**: ุญุณุงุจ ุฏููู ุจูุงุกู ุนูู ุงูุจูุงูุงุช ุงููุนููุฉ
โ **ุชูููุฑ ุงูููุช**: ูุง ุญุงุฌุฉ ูุฅุฏุฎุงู ุงูุจูุงูุงุช ูุฏููุงู
โ **ุดูุงููุฉ**: ุนุฑุถ ูุตุงุฏุฑ ุงูุจูุงูุงุช ูุงูุญุณุงุจุงุช
โ **ูุฑููุฉ**: ุฅููุงููุฉ ุงูุชุนุฏูู ุงููุฏูู ุนูุฏ ุงูุญุงุฌุฉ
โ **ุชุญุฏูุซ ููุฑู**: ุฅุนุงุฏุฉ ุญุณุงุจ ุชููุงุฆูุฉ ุนูุฏ ุชุบููุฑ ุงููุนุทูุงุช

## ุงูุงุณุชุฎุฏุงู

1. ุงุฎุชุฑ ุงูุดูุฑ ุงููุทููุจ ูู ุงูุชูููู
2. ุณูููู ุงููุธุงู ุชููุงุฆูุงู ุจู:
   - ุฌูุจ ุฌููุน ุงูุนูุงู
   - ุญุณุงุจ ุงูุฑุงุชุจ ุงูุฃุณุงุณู ููู ุนุงููุฉ ูู ุฌุฏูู ุงูุฌูุณูุงุช
   - ุญุณุงุจ ุฃูุงู ุงูุนูู ุงููุนููุฉ ูู ุงูุนููุฏ ุงููุดุทุฉ
   - ุญุณุงุจ ุงูุฑุงุชุจ ุงูุฅุฌูุงูู
3. ูููู ุชุนุฏูู ุงูููู ูุฏููุงู ุนูุฏ ุงูุญุงุฌุฉ
4. ุชุตุฏูุฑ ุงูุจูุงูุงุช ูููู Excel