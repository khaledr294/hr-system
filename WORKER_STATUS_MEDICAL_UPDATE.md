# ุชุญุฏูุซ ุญุงูุงุช ุงูุนุงููุฉ ูุงููุญุต ุงูุทุจู

## ุงูุชุญุฏูุซุงุช ุงูุฌุฏูุฏุฉ

### 1. ุญุงูุงุช ุงูุนุงููุฉ ุงูุฌุฏูุฏุฉ

ุชูุช ุฅุถุงูุฉ ุญุงูุชูู ุฌุฏูุฏุชูู ููุนุงููุฉ:

#### ุญุงูุฉ SICK (ูุฑูุถุฉ)
- **ุงูุตูุงุญูุงุช**: ููุท HR Manager ููููู ุชุบููุฑ ุงูุญุงูุฉ ุฅูู ูุฑูุถุฉ
- **ุงููุธููุฉ**: ุชุณุชุฎุฏู ุนูุฏูุง ุชููู ุงูุนุงููุฉ ูุฑูุถุฉ
- **ุงูุชุฃุซูุฑ**: ุงูุนุงููุฉ **ูุง ุชุธูุฑ** ูู ูุงุฆูุฉ ุงูุนุงููุงุช ุงููุชุงุญุฉ ุนูุฏ ุฅูุดุงุก ุนูุฏ ุฌุฏูุฏ
- **ุงูุฅุฑุฌุงุน**: ูููู ููู HR Manager ุฅุฑุฌุงุน ุงูุญุงูุฉ ุฅูู "ูุชุงุญุฉ" ุนูุฏ ุงูุชูุงุก ูุชุฑุฉ ุงููุฑุถ

#### ุญุงูุฉ RUNAWAY (ูุงุฑุจุฉ)
- **ุงูุตูุงุญูุงุช**: ููุท HR Manager ููููู ุชุบููุฑ ุงูุญุงูุฉ ุฅูู ูุงุฑุจุฉ
- **ุงููุธููุฉ**: ุชุณุชุฎุฏู ุนูุฏูุง ุชููู ุงูุนุงููุฉ ูุงุฑุจุฉ
- **ุงูุชุฃุซูุฑ**: ุงูุนุงููุฉ **ูุง ุชุธูุฑ** ูู ูุงุฆูุฉ ุงูุนุงููุงุช ุงููุชุงุญุฉ ุนูุฏ ุฅูุดุงุก ุนูุฏ ุฌุฏูุฏ
- **ุงูุฅุฑุฌุงุน**: ูููู ููู HR Manager ุฅุฑุฌุงุน ุงูุญุงูุฉ ุฅูู "ูุชุงุญุฉ" ุนูุฏ ุงุณุชุฑุฌุงุนูุง

### 2. ุฌููุน ุญุงูุงุช ุงูุนุงููุฉ

| ุงูุญุงูุฉ | ุงูุงุณู ุจุงูุนุฑุจูุฉ | ุงููุตู | ูู ููููู ุงูุชุนููู | ุงูุชุฃุซูุฑ |
|--------|----------------|-------|------------------|----------|
| AVAILABLE | ูุชุงุญุฉ | ุงูุญุงูุฉ ุงูุงูุชุฑุงุถูุฉ | ุงููุธุงู/ุงููุณุชุฎุฏููู | ุชุธูุฑ ูู ุงููุงุฆูุฉ ุงููุชุงุญุฉ |
| CONTRACTED | ูุคุฌุฑุฉ | ูุฏููุง ุนูุฏ ูุดุท/ููุชูู | ุงููุธุงู ุชููุงุฆูุงู | ูุง ุชุธูุฑ ูู ุงููุงุฆูุฉ ุงููุชุงุญุฉ |
| RESERVED | ูุญุฌูุฒุฉ | ูุญุฌูุฒุฉ ููุฏุฉ 3 ุณุงุนุงุช | ุงููุธุงู ุชููุงุฆูุงู | ุชุธูุฑ ููุท ูููุณุชุฎุฏู ุงูุฐู ุญุฌุฒูุง |
| SICK | ูุฑูุถุฉ | ูุฑูุถุฉ ูุคูุชุงู | HR Manager ููุท | ูุง ุชุธูุฑ ูู ุงููุงุฆูุฉ ุงููุชุงุญุฉ |
| RUNAWAY | ูุงุฑุจุฉ | ูุงุฑุจุฉ | HR Manager ููุท | ูุง ุชุธูุฑ ูู ุงููุงุฆูุฉ ุงููุชุงุญุฉ |

### 3. ุญูู ุงููุญุต ุงูุทุจู (medicalStatus)

ุชูุช ุฅุถุงูุฉ ุญูู ุฌุฏูุฏ ูุชุชุจุน ุญุงูุฉ ุงููุญุต ุงูุทุจู ููุนุงููุฉ:

#### ุงูููู ุงููุชุงุญุฉ:
- **PENDING_REPORT** (ุจุงูุชุธุงุฑ ุงูุชูุฑูุฑ): ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ
- **FIT** (ูุงุฆู): ุงูุนุงููุฉ ูุงุฆูุฉ ุทุจูุงู
- **UNFIT** (ุบูุฑ ูุงุฆู): ุงูุนุงููุฉ ุบูุฑ ูุงุฆูุฉ ุทุจูุงู

#### ุงูุงุณุชุฎุฏุงู:
- ูุธูุฑ ุงูุญูู ูู ุตูุญุฉ **ุฅุถุงูุฉ ุนุงููุฉ ุฌุฏูุฏุฉ**
- ูุธูุฑ ุงูุญูู ูู ุตูุญุฉ **ุชุนุฏูู ุจูุงูุงุช ุงูุนุงููุฉ**
- ูููู ูุฌููุน ุงููุณุชุฎุฏููู ุงูุฐูู ูุฏููู ุตูุงุญูุฉ ุชุญุฏูุซ ุงูุนุงููุฉ ุชุนุฏูู ูุฐุง ุงูุญูู

### 4. ูููู ุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุนุงููุฉ

ุชูุช ุฅุถุงูุฉ ูููู `WorkerStatusManager` ูู ุตูุญุฉ ุชูุงุตูู ุงูุนุงููุฉ:

#### ุงูููุฒุงุช:
- **ูุงุฌูุฉ ุจุตุฑูุฉ ูุงุถุญุฉ** ูุนุฑุถ ุงูุญุงูุฉ ุงูุญุงููุฉ
- **ุฃุฒุฑุงุฑ ููููุฉ** ููู ุญุงูุฉ ููููุฉ
- **ููู ุชููุงุฆู** ููุญุงูุงุช ุงูุชู ูุง ูููู ุงููุณุชุฎุฏู ุตูุงุญูุฉ ุชุบููุฑูุง
- **ุชุฃููุฏ ูุจู ุงูุชุบููุฑ** ูุชุฌูุจ ุงูุฃุฎุทุงุก
- **ููุงุญุธุงุช ุชูุถูุญูุฉ** ููู ุญุงูุฉ

#### ุงูุชุญูู ูู ุงูุตูุงุญูุงุช:
- ุงูุญุงูุงุช **SICK** ู **RUNAWAY** ููููุฉ ูุบูุฑ HR Manager
- ุงูุญุงูุงุช **CONTRACTED** ู **RESERVED** ูุง ูููู ุชุบููุฑูุง ูุฏููุงู (ูุฏูุฑูุง ุงููุธุงู)
- ุงูุญุงูุฉ **AVAILABLE** ูุชุงุญุฉ ูุฌููุน ุงููุณุชุฎุฏููู ุงูุฐูู ูุฏููู ุตูุงุญูุฉ ุชุญุฏูุซ ุงูุนุงููุฉ

### 5. API Endpoint ุฌุฏูุฏ

ุชู ุฅุถุงูุฉ endpoint ุฌุฏูุฏ:

```
PATCH /api/workers/[id]/status
```

#### Body:
```json
{
  "status": "SICK" | "RUNAWAY" | "AVAILABLE"
}
```

#### ุงูุชุญูู ูู ุงูุตูุงุญูุงุช:
- ูุฑูุถ ุชุบููุฑ ุงูุญุงูุฉ ุฅูู SICK ุฃู RUNAWAY ูุบูุฑ HR Manager
- ูุฑูุถ ุชุบููุฑ ุงูุญุงูุฉ ูุฏููุงู ุฅูู CONTRACTED ุฃู RESERVED
- ูุณุฌู ุงูุนูููุฉ ูู ุงูู Logs

## ุงูุชุญุฏูุซุงุช ุงูุฃุฎุฑู

### ุฅุตูุงุญ ุฌุฏูู ุงูุนููุฏ ุนูู ูุดู ุงูุงูุชูุงุก
- ูุธูุฑ ุงูุขู ุฌุฏูู ูููุตู ููุนููุฏ ุงูุชู ูุชุจูู ุนูู ุงูุชูุงุฆูุง **3 ุฃูุงู ุฃู ุฃูู**
- ูุธูุฑ ูู ุฃุนูู ุตูุญุฉ ุงูุนููุฏ ูููุช ุงูุงูุชุจุงู

### ุฅุตูุงุญ ุญุณุงุจ ุงูุฑูุงุชุจ
- ุชู ุฅุตูุงุญ ูุดููุฉ ุนุฏู ุงุญุชุณุงุจ ุงูุนููุฏ ุงููุคุฑุดูุฉ ูู ุงูุฑูุงุชุจ
- ุงูุขู ูุชู ุฌูุจ ุงูุนููุฏ ูู ุฌุฏูููู: `Contract` ู `ArchivedContract`
- ูุชู ุฏูุฌ ุงููุชุงุฆุฌ ุจุดูู ุตุญูุญ ูุญุณุงุจ ุฅุฌูุงูู ุฃูุงู ุงูุนูู

### ุชุญุณูู ุนุฑุถ ุญุงูุงุช ุงูุนููุฏ
- **ACTIVE** (ูุดุท): ๐ข ุฃุฎุถุฑ
- **EXPIRED** (ููุชูู): โฐ ุฃุตูุฑ
- **COMPLETED** (ููุชูู): โ ุฃุฒุฑู
- **CANCELLED** (ููุบู): โ ุฃุญูุฑ

## ููุงุญุธุฉ ูุงูุฉ: ุญูู medicalStatus

โ๏ธ **ูุฌุจ ุฅุถุงูุฉ ุญูู `medicalStatus` ูุฏููุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**

ูุธุฑุงู ูุงุณุชุฎุฏุงู Prisma Accelerateุ ูุง ูููู ุชูููุฐ migrations ูุจุงุดุฑุฉ. ูุฌุจ:

1. ุงูุฐูุงุจ ุฅูู https://console.prisma.io
2. ุงุฎุชูุงุฑ ุงููุดุฑูุน ุงูุญุงูู
3. ูุชุญ Query Console
4. ุชูููุฐ ุงูุฃูุฑ ุงูุชุงูู:

```sql
ALTER TABLE "Worker" 
ADD COLUMN IF NOT EXISTS "medicalStatus" TEXT DEFAULT 'PENDING_REPORT';

UPDATE "Worker" 
SET "medicalStatus" = 'PENDING_REPORT' 
WHERE "medicalStatus" IS NULL;
```

5. ุชุญุฏูุซ Prisma Client:
```bash
npx prisma generate
```

## ุงูุงุฎุชุจุงุฑ

ููุชุฃูุฏ ูู ุนูู ุฌููุน ุงูููุฒุงุช:

1. โ **ุฅุถุงูุฉ ุนุงููุฉ ุฌุฏูุฏุฉ** ูุน ุงุฎุชูุงุฑ ุญุงูุฉ ุงููุญุต ุงูุทุจู
2. โ **ุชุนุฏูู ุจูุงูุงุช ุนุงููุฉ** ูุชุบููุฑ ุญุงูุฉ ุงููุญุต ุงูุทุจู
3. โ **ุนุฑุถ ุชูุงุตูู ุนุงููุฉ** ูุงูุชุญูู ูู ุธููุฑ ูููู ุฅุฏุงุฑุฉ ุงูุญุงูุฉ
4. โ **ุชุบููุฑ ุญุงูุฉ ุนุงููุฉ** ุจูุงุณุทุฉ HR Manager ุฅูู SICK ุฃู RUNAWAY
5. โ **ุงูุชุญูู ูู ุนุฏู ุธููุฑ** ุงูุนุงููุงุช ุงููุฑูุถุฉ/ุงููุงุฑุจุฉ ูู ูุงุฆูุฉ ุงููุชุงุญุงุช
6. โ **ุฅุฑุฌุงุน ุญุงูุฉ ุนุงููุฉ** ูู SICK/RUNAWAY ุฅูู AVAILABLE
7. โ **ุงูุชุญูู ูู ุฌุฏูู ุงูุนููุฏ** ุนูู ูุดู ุงูุงูุชูุงุก
8. โ **ุงูุชุญูู ูู ุญุณุงุจ ุงูุฑูุงุชุจ** ูุน ุงูุนููุฏ ุงููุคุฑุดูุฉ

## ุงููููุงุช ุงููุถุงูุฉ/ุงููุนุฏูุฉ

### ูููุงุช ุฌุฏูุฏุฉ:
- `src/components/workers/WorkerStatusManager.tsx`
- `src/app/api/workers/[id]/status/route.ts`
- `scripts/add-medical-status.ts`
- `prisma/migrations/add_medical_status.sql`

### ูููุงุช ูุนุฏูุฉ:
- `prisma/schema.prisma` - ุฅุถุงูุฉ ุญูู medicalStatus
- `src/app/workers/new/page.tsx` - ุฅุถุงูุฉ ุญูู ุงููุญุต ุงูุทุจู
- `src/app/workers/[id]/edit/page.tsx` - ุฅุถุงูุฉ ุญูู ุงููุญุต ุงูุทุจู
- `src/app/workers/[id]/page.tsx` - ุฅุถุงูุฉ ูููู ุฅุฏุงุฑุฉ ุงูุญุงูุฉ
- `src/app/api/workers/route.ts` - ุฏุนู medicalStatus
- `src/components/contracts/ContractsWithSearch.tsx` - ุฅุตูุงุญ ุฌุฏูู ุงูุนููุฏ
- `src/app/api/contracts/route.ts` - ุฅุตูุงุญ ุฌูุจ ุงูุนููุฏ ุงููุคุฑุดูุฉ
- `src/app/contracts/[id]/page.tsx` - ุชุญุณูู ุนุฑุถ ุงูุญุงูุงุช

## ุงูุฎุทูุงุช ุงููุงุฏูุฉ

1. โ ูุดุฑ ุงูุชุนุฏููุงุช ุนูู GitHub
2. โ ูุดุฑ ุชููุงุฆู ุนูู Vercel
3. โณ ุฅุถุงูุฉ ุญูู medicalStatus ูุฏููุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ูุฏููุงู ุนุจุฑ console.prisma.io)
4. โณ ุงุฎุชุจุงุฑ ุฌููุน ุงูููุฒุงุช ูู Production

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: 13 ููููุจุฑ 2025
**ุงูุฅุตุฏุงุฑ**: 2.5.0
